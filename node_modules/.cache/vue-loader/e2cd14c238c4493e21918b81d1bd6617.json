{"remainingRequest":"C:\\DEV\\FLJ\\Plataforma\\PLATTFORM_Sandbox\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\DEV\\FLJ\\Plataforma\\PLATTFORM_Sandbox\\src\\components\\Personas\\Persona.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\DEV\\FLJ\\Plataforma\\PLATTFORM_Sandbox\\src\\components\\Personas\\Persona.vue","mtime":1666174950125},{"path":"C:\\DEV\\FLJ\\Plataforma\\PLATTFORM_Sandbox\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1666176538733},{"path":"C:\\DEV\\FLJ\\Plataforma\\PLATTFORM_Sandbox\\node_modules\\babel-loader\\lib\\index.js","mtime":1666176542014},{"path":"C:\\DEV\\FLJ\\Plataforma\\PLATTFORM_Sandbox\\node_modules\\vuetify-loader\\lib\\loader.js","mtime":1666176543703},{"path":"C:\\DEV\\FLJ\\Plataforma\\PLATTFORM_Sandbox\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1666176538733},{"path":"C:\\DEV\\FLJ\\Plataforma\\PLATTFORM_Sandbox\\node_modules\\vue-loader\\lib\\index.js","mtime":1666176542441}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KDQppbXBvcnQgYXhpb3MgZnJvbSAiYXhpb3MiOw0KaW1wb3J0IHBlcnNvbmFDUlUgZnJvbSAiLi9QZXJzb25hQ1JVIjsNCmltcG9ydCBBbGVydHMgZnJvbSAiQC9jb21wb25lbnRzL1B1YmxpYy9BbGVydHMiOw0KDQpleHBvcnQgZGVmYXVsdCB7DQogIGNvbXBvbmVudHM6IHsNCiAgICBwZXJzb25hQ1JVLA0KICAgIEFsZXJ0cywNCiAgfSwNCiAgZGF0YSgpIHsNCiAgICByZXR1cm4gew0KICAgICAgc2VhcmNoOiAiIiwNCiAgICAgIHBlcnNvbmFzOiBbXSwNCiAgICAgIGNhYmVjZXJhcGVyc29uYXM6IFsNCiAgICAgICAgeyB0ZXh0OiAiTm9tYnJlIiwgdmFsdWU6ICJub21icmVDb21wbGV0byIgfSwNCiAgICAgICAgeyB0ZXh0OiAiRW1haWwiLCB2YWx1ZTogIm1haWwiLCBzb3J0YWJsZTogZmFsc2UgfSwNCiAgICAgICAgeyB0ZXh0OiAiRG9jdW1lbnRvIiwgdmFsdWU6ICJucm9Eb2N1bWVudG8iLCBzb3J0YWJsZTogZmFsc2UgfSwNCiAgICAgICAgeyB0ZXh0OiAiT3BjaW9uZXMiLCB2YWx1ZTogIm9wY2lvbmVzIiwgc29ydGFibGU6IGZhbHNlIH0sDQogICAgICBdLA0KICAgICAgbm9tYnJlQ29tcGxldG86ICIiLA0KICAgICAgcGVyc29uYUlEOiAiIiwNCiAgICAgIGRsZ1Jlc2V0UGFzc3dvcmQ6IGZhbHNlLA0KICAgICAgYWxlcnREbGc6IGZhbHNlLA0KICAgICAgYWRBY2Npb246IDAsDQogICAgICBhZE1vZGFsOiAwLA0KICAgICAgZGxnUGVyc29uYUNSVTogZmFsc2UsDQogICAgICByYW5kb21fYXBwOiAiIiwNCiAgICAgIGFjY2lvbjoiIiwNCiAgICB9Ow0KICB9LA0KDQogIGNvbXB1dGVkOiB7DQogICAgaW5zdGl0dWNpb24oKSB7DQogICAgICByZXR1cm4gdGhpcy4kc3RvcmUuc3RhdGUudXN1YXJpby5pbnN0aXR1Y2lvbjsNCiAgICB9LA0KICB9LA0KDQogIHdhdGNoOiB7fSwNCg0KICBjcmVhdGVkKCkgew0KICAgIHRoaXMubGlzdGFyUGVyc29uYXMoKTsNCiAgfSwNCg0KICBtZXRob2RzOiB7DQogICAgc2FsaXIoKSB7DQogICAgICB0aGlzLiRzdG9yZS5kaXNwYXRjaCgic2FsaXIiKTsNCiAgICB9LA0KDQogICAgc2hvd1Jlc2V0UGFzc3dvcmQoaXRlbSkgew0KICAgICAgdGhpcy5wZXJzb25hSUQgPSBpdGVtLmlkOw0KICAgICAgdGhpcy5ub21icmVDb21wbGV0byA9IGl0ZW0ubm9tYnJlQ29tcGxldG87DQogICAgICB0aGlzLmRsZ1Jlc2V0UGFzc3dvcmQgPSB0cnVlOw0KICAgIH0sDQoNCiAgICBjbG9zZVJlc2V0UGFzc3dvcmQoKSB7DQogICAgICB0aGlzLmRsZ1Jlc2V0UGFzc3dvcmQgPSBmYWxzZTsNCiAgICB9LA0KDQogICAgc2hvd1BlcnNvbmFDUlUoYWNjaW9uKSB7DQogICAgICB0aGlzLnJhbmRvbV9hcHAgPSBNYXRoLnJhbmRvbSgpOw0KICAgICAgdGhpcy5hY2Npb24gPSBhY2Npb24NCiAgICAgIHRoaXMuZGxnUGVyc29uYUNSVSA9IHRydWU7DQogICAgfSwNCg0KICAgIGNsb3NlUGVyc29uYUNSVSgpIHsNCiAgICAgIHRoaXMuZGxnUGVyc29uYUNSVSA9IGZhbHNlOw0KICAgIH0sDQoNCiAgICBzaG93QWxlcnQodGlwbywgbWVuc2FqZSkgew0KICAgICAgKHRoaXMuc25hY2tiYXIgPSBmYWxzZSksDQogICAgICAgICh0aGlzLmFsZXJ0Q29sb3IgPSB0aXBvKSwNCiAgICAgICAgKHRoaXMuYWxlcnRNZXNzYWdlID0gbWVuc2FqZSksDQogICAgICAgICh0aGlzLnNuYWNrYmFyID0gIm1vc3RyYXIiKSwNCiAgICAgICAgKHRoaXMuYWxlcnREbGcgPSB0cnVlKSwNCiAgICAgICAgdGhpcy5jZXJyYXJBbGVydCgpOw0KICAgIH0sDQoNCiAgICBjZXJyYXJBbGVydDogZnVuY3Rpb24gKCkgew0KICAgICAgdmFyIG1lID0gdGhpczsNCiAgICAgIHNldFRpbWVvdXQoKCkgPT4gew0KICAgICAgICAodGhpcy5zbmFja2JhciA9ICIiKSwgKHRoaXMuYWxlcnREbGcgPSBmYWxzZSk7DQogICAgICB9LCAzMDAwKTsNCiAgICB9LA0KDQogICAgbGlzdGFyUGVyc29uYXMoKSB7DQogICAgICBsZXQgbWUgPSB0aGlzOw0KICAgICAgbGV0IGhlYWRlciA9IHsgQXV0aG9yaXphdGlvbjogIkJlYXJlciAiICsgdGhpcy4kc3RvcmUuc3RhdGUudG9rZW4gfTsNCiAgICAgIGxldCBjb25maWd1cmFjaW9uID0geyBoZWFkZXJzOiBoZWFkZXIgfTsNCiAgICAgIGF4aW9zDQogICAgICAgIC5nZXQoImFwaS9wZXJzb25hcy8iICsgbWUuaW5zdGl0dWNpb24sIGNvbmZpZ3VyYWNpb24pDQogICAgICAgIC50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkgew0KICAgICAgICAgIG1lLnBlcnNvbmFzID0gcmVzcG9uc2UuZGF0YTsNCiAgICAgICAgICAvLyAgICAgY29uc29sZS5sb2cobWUucGVyc29uYXMpOw0KICAgICAgICB9KQ0KICAgICAgICAuY2F0Y2goZnVuY3Rpb24gKGVycm9yKSB7DQogICAgICAgICAgY29uc29sZS5sb2coZXJyb3IpOw0KICAgICAgICAgIGlmIChlcnJvci5yZXNwb25zZSAmJiBlcnJvci5yZXNwb25zZS5zdGF0dXMgPT09IDQwMSkgew0KICAgICAgICAgICAgbWUuc2FsaXIoKTsNCiAgICAgICAgICB9IGVsc2Ugew0KICAgICAgICAgICAgLy8gSGFuZGxlIGVycm9yIGhvd2V2ZXIgeW91IHdhbnQNCiAgICAgICAgICB9DQogICAgICAgIH0pOw0KICAgIH0sDQoNCiAgICBhY3RpdmFyRGVzYWN0aXZhck1vc3RyYXIoYWNjaW9uLCBpdGVtKSB7DQogICAgICB0aGlzLmFkTW9kYWwgPSAxOw0KICAgICAgdGhpcy5ub21icmVDb21wbGV0byA9IGl0ZW0ubm9tYnJlQ29tcGxldG87DQogICAgICB0aGlzLmlkID0gaXRlbS5pZDsNCiAgICAgIGlmIChhY2Npb24gPT0gMSkgew0KICAgICAgICB0aGlzLmFkQWNjaW9uID0gMTsNCiAgICAgIH0gZWxzZSBpZiAoYWNjaW9uID09IDIpIHsNCiAgICAgICAgdGhpcy5hZEFjY2lvbiA9IDI7DQogICAgICB9IGVsc2Ugew0KICAgICAgICB0aGlzLmFkTW9kYWwgPSAwOw0KICAgICAgfQ0KICAgIH0sDQoNCiAgICBhY3RpdmFyRGVzYWN0aXZhckNlcnJhcigpIHsNCiAgICAgIHRoaXMuYWRNb2RhbCA9IDA7DQogICAgfSwNCg0KICAgIGRlc2FjdGl2YXIoKSB7DQogICAgICBsZXQgbWUgPSB0aGlzOw0KICAgICAgbGV0IGhlYWRlciA9IHsgQXV0aG9yaXphdGlvbjogIkJlYXJlciAiICsgdGhpcy4kc3RvcmUuc3RhdGUudG9rZW4gfTsNCiAgICAgIGxldCBjb25maWd1cmFjaW9uID0geyBoZWFkZXJzOiBoZWFkZXIgfTsNCiAgICAgIGF4aW9zDQogICAgICAgIC5kZWxldGUoDQogICAgICAgICAgImFwaS9QZXJzb25hcy8iICsgdGhpcy5pZCArICIsIiArIG1lLmluc3RpdHVjaW9uLA0KICAgICAgICAgIGNvbmZpZ3VyYWNpb24sDQogICAgICAgICAge30NCiAgICAgICAgKQ0KICAgICAgICAudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHsNCiAgICAgICAgICBtZS5hZE1vZGFsID0gMDsNCiAgICAgICAgICBtZS5hZEFjY2lvbiA9IDA7DQogICAgICAgICAgbWUubm9tYnJlQ29tcGxldG8gPSAiIjsNCiAgICAgICAgICBtZS5saXN0YXJQZXJzb25hcygpOw0KICAgICAgICB9KQ0KICAgICAgICAuY2F0Y2goZnVuY3Rpb24gKGVycm9yKSB7DQogICAgICAgICAgY29uc29sZS5sb2coZXJyb3IpOw0KICAgICAgICAgIGlmIChlcnJvci5yZXNwb25zZSAmJiBlcnJvci5yZXNwb25zZS5zdGF0dXMgPT09IDQwMSkgew0KICAgICAgICAgICAgbWUuc2FsaXIoKTsNCiAgICAgICAgICB9IGVsc2Ugew0KICAgICAgICAgICAgLy8gSGFuZGxlIGVycm9yIGhvd2V2ZXIgeW91IHdhbnQNCiAgICAgICAgICB9DQogICAgICAgIH0pOw0KICAgIH0sDQoNCiAgICBhY3RpdmFyKCkgew0KICAgICAgbGV0IG1lID0gdGhpczsNCiAgICAgIGxldCBoZWFkZXIgPSB7IEF1dGhvcml6YXRpb246ICJCZWFyZXIgIiArIHRoaXMuJHN0b3JlLnN0YXRlLnRva2VuIH07DQogICAgICBsZXQgY29uZmlndXJhY2lvbiA9IHsgaGVhZGVyczogaGVhZGVyIH07DQogICAgICBheGlvcw0KICAgICAgICAucHV0KA0KICAgICAgICAgICJhcGkvUGVyc29uYXMvIiArIHRoaXMuaWQgKyAiLCIgKyBtZS5pbnN0aXR1Y2lvbiArICIvYWN0aXZhciIsDQogICAgICAgICAgew0KICAgICAgICAgICAgY29uZGljaW9uOiB0cnVlLA0KICAgICAgICAgIH0sDQogICAgICAgICAgY29uZmlndXJhY2lvbg0KICAgICAgICApDQogICAgICAgIC50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkgew0KICAgICAgICAgIG1lLmFkTW9kYWwgPSAwOw0KICAgICAgICAgIG1lLmFkQWNjaW9uID0gMDsNCiAgICAgICAgICBtZS5ub21icmUgPSAiIjsNCiAgICAgICAgICBtZS5hZElkID0gIiI7DQogICAgICAgICAgbWUubGlzdGFyUGVyc29uYXMoKTsNCiAgICAgICAgfSkNCiAgICAgICAgLmNhdGNoKGZ1bmN0aW9uIChlcnJvcikgew0KICAgICAgICAgIGNvbnNvbGUubG9nKGVycm9yKTsNCiAgICAgICAgICBpZiAoZXJyb3IucmVzcG9uc2UgJiYgZXJyb3IucmVzcG9uc2Uuc3RhdHVzID09PSA0MDEpIHsNCiAgICAgICAgICAgIG1lLnNhbGlyKCk7DQogICAgICAgICAgfSBlbHNlIHsNCiAgICAgICAgICAgIC8vIEhhbmRsZSBlcnJvciBob3dldmVyIHlvdSB3YW50DQogICAgICAgICAgfQ0KICAgICAgICB9KTsNCiAgICB9LA0KICB9LA0KfTsNCg=="},{"version":3,"sources":["Persona.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA4KA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Persona.vue","sourceRoot":"src/components/Personas","sourcesContent":["<template>\r\n  <v-layout align-start>\r\n    <v-flex>\r\n\r\n      \r\n      <v-data-table\r\n        :headers=\"cabecerapersonas\"\r\n        :items=\"personas\"\r\n        :search=\"search\"\r\n        class=\"elevation-1\"\r\n      >\r\n        <template v-slot:[`item.opciones`]=\"{ item }\">\r\n          <v-btn color=\"green\" fab x-small dark @click=\"editaPersona(item)\">\r\n            <v-icon size=\"14\">mdi-pencil</v-icon>\r\n          </v-btn>\r\n          <v-btn\r\n            color=\"blue\"\r\n            title=\"Resetear Password\"\r\n            class=\"mx-2\"\r\n            fab\r\n            x-small\r\n            dark\r\n            @click=\"showResetPassword(item)\"\r\n          >\r\n            <v-icon size=\"14\">fa-unlock-alt</v-icon>\r\n          </v-btn>\r\n          <template v-if=\"item.estado\">\r\n            <v-btn\r\n              color=\"red\"\r\n              fab\r\n              x-small\r\n              dark\r\n              @click=\"activarDesactivarMostrar(2, item)\"\r\n            >\r\n              <v-icon size=\"14\">fa-ban</v-icon>\r\n            </v-btn>\r\n          </template>\r\n          <template v-else>\r\n            <v-icon small @click=\"activarDesactivarMostrar(1, item)\"\r\n              >fa-check</v-icon\r\n            >\r\n          </template>\r\n        </template>\r\n\r\n        <template v-slot:no-data>\r\n          <v-btn color=\"primary\" @click=\"listarPersonas()\">Resetear</v-btn>\r\n        </template>\r\n        <template v-slot:top>\r\n          <v-toolbar flat color=\"white\">\r\n            <v-toolbar-title>Personas</v-toolbar-title>\r\n            <v-divider class=\"mx-4\" inset vertical></v-divider>\r\n            <v-spacer></v-spacer>\r\n            <v-text-field\r\n              class=\"text-xs-center\"\r\n              v-model=\"search\"\r\n              append-icon=\"search\"\r\n              label=\"Búsqueda\"\r\n              single-line\r\n              hide-details\r\n            ></v-text-field>\r\n            <v-spacer></v-spacer>\r\n\r\n            <v-tooltip bottom>\r\n              <template v-slot:activator=\"{ on }\">\r\n                <v-btn\r\n                  class=\"mx-2\"\r\n                  v-on=\"on\"\r\n                  fab\r\n                  dark\r\n                  small\r\n                  color=\"cyan\"\r\n                  @click=\"showPersonaCRU('AltaPersona')\"\r\n                  style=\"margin-top: 10px\"\r\n                >\r\n                  <v-icon dark>mdi-plus</v-icon>\r\n                </v-btn>\r\n              </template>\r\n              <span class=\"tooltip\">Nueva Persona</span>\r\n            </v-tooltip>\r\n          </v-toolbar>\r\n        </template>\r\n      </v-data-table>\r\n\r\n      <!--Modal Activar Desactivar Usuario-->\r\n      <v-dialog v-model=\"adModal\" persistent max-width=\"550\">\r\n        <v-card>\r\n          <v-card-title class=\"headline\" v-if=\"adAccion == 1\"\r\n            >¿Activar Persona?</v-card-title\r\n          >\r\n          <v-card-title class=\"headline\" v-if=\"adAccion == 2\"\r\n            >¿Desactivar Persona?</v-card-title\r\n          >\r\n          <v-card-text>\r\n            Estás a punto de\r\n            <span v-if=\"adAccion == 1\">Activar</span>\r\n            <span v-if=\"adAccion == 2\">Desactivar</span>\r\n            a {{ nombreCompleto }}\r\n          </v-card-text>\r\n          <v-card-actions>\r\n            <v-spacer></v-spacer>\r\n            <v-btn\r\n              v-if=\"adAccion == 1\"\r\n              color=\"orange darken-4\"\r\n              text\r\n              @click=\"activar()\"\r\n            >\r\n              <v-icon small class=\"mx-2\">fa-check</v-icon>Activar\r\n            </v-btn>\r\n            <v-btn\r\n              v-if=\"adAccion == 2\"\r\n              color=\"orange darken-4\"\r\n              text\r\n              @click=\"desactivar()\"\r\n            >\r\n              <v-icon small class=\"mx-2\">fa-ban</v-icon>Desactivar\r\n            </v-btn>\r\n            <v-btn\r\n              color=\"primary darken-1\"\r\n              text\r\n              @click=\"activarDesactivarCerrar()\"\r\n            >\r\n              <v-icon small class=\"mx-2\">fa-times-circle</v-icon>Cancelar\r\n            </v-btn>\r\n          </v-card-actions>\r\n        </v-card>\r\n      </v-dialog>\r\n      <!--Fin-->\r\n    </v-flex>\r\n\r\n    <!------------------>\r\n    <!--Personas Crear-->\r\n    <!------------------>\r\n    <v-dialog v-model=\"dlgPersonaCRU\" scrollable persistent max-width=\"80%\">\r\n      <personaCRU\r\n        :random_app=\"random_app\"\r\n        :accion=\"accion\"\r\n        @closePersonaCRU=\"closePersonaCRU\"\r\n        @showAlert=\"showAlert\"\r\n      />\r\n    </v-dialog>\r\n\r\n    <!-------------------------------------------------------->\r\n    <!--Reseteo Clave                                       -->\r\n    <!-------------------------------------------------------->\r\n    <v-dialog\r\n      v-model=\"dlgResetPassword\"\r\n      scrollable\r\n      persistent\r\n      max-width=\"425px\"\r\n    >\r\n      <resetPassword\r\n        :nombreCompleto=\"nombreCompleto\"\r\n        :personaID=\"personaID\"\r\n        @closeResetPassword=\"closeResetPassword\"\r\n        @showAlert=\"showAlert\"\r\n      />\r\n    </v-dialog>\r\n\r\n    <!----------------------->\r\n    <!--Alerts--------------->\r\n    <!----------------------->\r\n    <template v-if=\"alertDlg\">\r\n      <Alerts\r\n        :alertColor=\"alertColor\"\r\n        :alertMessage=\"alertMessage\"\r\n        :snackbar=\"snackbar\"\r\n      />\r\n    </template>\r\n  </v-layout>\r\n</template>\r\n\r\n<script>\r\nimport axios from \"axios\";\r\nimport personaCRU from \"./PersonaCRU\";\r\nimport Alerts from \"@/components/Public/Alerts\";\r\n\r\nexport default {\r\n  components: {\r\n    personaCRU,\r\n    Alerts,\r\n  },\r\n  data() {\r\n    return {\r\n      search: \"\",\r\n      personas: [],\r\n      cabecerapersonas: [\r\n        { text: \"Nombre\", value: \"nombreCompleto\" },\r\n        { text: \"Email\", value: \"mail\", sortable: false },\r\n        { text: \"Documento\", value: \"nroDocumento\", sortable: false },\r\n        { text: \"Opciones\", value: \"opciones\", sortable: false },\r\n      ],\r\n      nombreCompleto: \"\",\r\n      personaID: \"\",\r\n      dlgResetPassword: false,\r\n      alertDlg: false,\r\n      adAccion: 0,\r\n      adModal: 0,\r\n      dlgPersonaCRU: false,\r\n      random_app: \"\",\r\n      accion:\"\",\r\n    };\r\n  },\r\n\r\n  computed: {\r\n    institucion() {\r\n      return this.$store.state.usuario.institucion;\r\n    },\r\n  },\r\n\r\n  watch: {},\r\n\r\n  created() {\r\n    this.listarPersonas();\r\n  },\r\n\r\n  methods: {\r\n    salir() {\r\n      this.$store.dispatch(\"salir\");\r\n    },\r\n\r\n    showResetPassword(item) {\r\n      this.personaID = item.id;\r\n      this.nombreCompleto = item.nombreCompleto;\r\n      this.dlgResetPassword = true;\r\n    },\r\n\r\n    closeResetPassword() {\r\n      this.dlgResetPassword = false;\r\n    },\r\n\r\n    showPersonaCRU(accion) {\r\n      this.random_app = Math.random();\r\n      this.accion = accion\r\n      this.dlgPersonaCRU = true;\r\n    },\r\n\r\n    closePersonaCRU() {\r\n      this.dlgPersonaCRU = false;\r\n    },\r\n\r\n    showAlert(tipo, mensaje) {\r\n      (this.snackbar = false),\r\n        (this.alertColor = tipo),\r\n        (this.alertMessage = mensaje),\r\n        (this.snackbar = \"mostrar\"),\r\n        (this.alertDlg = true),\r\n        this.cerrarAlert();\r\n    },\r\n\r\n    cerrarAlert: function () {\r\n      var me = this;\r\n      setTimeout(() => {\r\n        (this.snackbar = \"\"), (this.alertDlg = false);\r\n      }, 3000);\r\n    },\r\n\r\n    listarPersonas() {\r\n      let me = this;\r\n      let header = { Authorization: \"Bearer \" + this.$store.state.token };\r\n      let configuracion = { headers: header };\r\n      axios\r\n        .get(\"api/personas/\" + me.institucion, configuracion)\r\n        .then(function (response) {\r\n          me.personas = response.data;\r\n          //     console.log(me.personas);\r\n        })\r\n        .catch(function (error) {\r\n          console.log(error);\r\n          if (error.response && error.response.status === 401) {\r\n            me.salir();\r\n          } else {\r\n            // Handle error however you want\r\n          }\r\n        });\r\n    },\r\n\r\n    activarDesactivarMostrar(accion, item) {\r\n      this.adModal = 1;\r\n      this.nombreCompleto = item.nombreCompleto;\r\n      this.id = item.id;\r\n      if (accion == 1) {\r\n        this.adAccion = 1;\r\n      } else if (accion == 2) {\r\n        this.adAccion = 2;\r\n      } else {\r\n        this.adModal = 0;\r\n      }\r\n    },\r\n\r\n    activarDesactivarCerrar() {\r\n      this.adModal = 0;\r\n    },\r\n\r\n    desactivar() {\r\n      let me = this;\r\n      let header = { Authorization: \"Bearer \" + this.$store.state.token };\r\n      let configuracion = { headers: header };\r\n      axios\r\n        .delete(\r\n          \"api/Personas/\" + this.id + \",\" + me.institucion,\r\n          configuracion,\r\n          {}\r\n        )\r\n        .then(function (response) {\r\n          me.adModal = 0;\r\n          me.adAccion = 0;\r\n          me.nombreCompleto = \"\";\r\n          me.listarPersonas();\r\n        })\r\n        .catch(function (error) {\r\n          console.log(error);\r\n          if (error.response && error.response.status === 401) {\r\n            me.salir();\r\n          } else {\r\n            // Handle error however you want\r\n          }\r\n        });\r\n    },\r\n\r\n    activar() {\r\n      let me = this;\r\n      let header = { Authorization: \"Bearer \" + this.$store.state.token };\r\n      let configuracion = { headers: header };\r\n      axios\r\n        .put(\r\n          \"api/Personas/\" + this.id + \",\" + me.institucion + \"/activar\",\r\n          {\r\n            condicion: true,\r\n          },\r\n          configuracion\r\n        )\r\n        .then(function (response) {\r\n          me.adModal = 0;\r\n          me.adAccion = 0;\r\n          me.nombre = \"\";\r\n          me.adId = \"\";\r\n          me.listarPersonas();\r\n        })\r\n        .catch(function (error) {\r\n          console.log(error);\r\n          if (error.response && error.response.status === 401) {\r\n            me.salir();\r\n          } else {\r\n            // Handle error however you want\r\n          }\r\n        });\r\n    },\r\n  },\r\n};\r\n</script>"]}]}