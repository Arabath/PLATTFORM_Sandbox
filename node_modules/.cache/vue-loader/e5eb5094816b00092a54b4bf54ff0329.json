{"remainingRequest":"C:\\DEV\\FLJ\\Plataforma\\PLATTFORM_Sandbox\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\DEV\\FLJ\\Plataforma\\PLATTFORM_Sandbox\\src\\components\\Login.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\DEV\\FLJ\\Plataforma\\PLATTFORM_Sandbox\\src\\components\\Login.vue","mtime":1666174950125},{"path":"C:\\DEV\\FLJ\\Plataforma\\PLATTFORM_Sandbox\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1666176538733},{"path":"C:\\DEV\\FLJ\\Plataforma\\PLATTFORM_Sandbox\\node_modules\\babel-loader\\lib\\index.js","mtime":1666176542014},{"path":"C:\\DEV\\FLJ\\Plataforma\\PLATTFORM_Sandbox\\node_modules\\vuetify-loader\\lib\\loader.js","mtime":1666176543703},{"path":"C:\\DEV\\FLJ\\Plataforma\\PLATTFORM_Sandbox\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1666176538733},{"path":"C:\\DEV\\FLJ\\Plataforma\\PLATTFORM_Sandbox\\node_modules\\vue-loader\\lib\\index.js","mtime":1666176542441}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KDQppbXBvcnQgeyBtYXBBY3Rpb25zIH0gZnJvbSAidnVleCI7DQppbXBvcnQgYXhpb3MgZnJvbSAiYXhpb3MiOw0KZXhwb3J0IGRlZmF1bHQgew0KICBkYXRhKCkgew0KICAgIHJldHVybiB7DQogICAgICB1c3VhcmlvOiAiIiwNCiAgICAgIHBhc3N3b3JkOiAiIiwNCiAgICAgIGVycm9yOiBudWxsLA0KICAgICAgdmFsaWRhOiAwLA0KICAgICAgdmFsaWRhTWVuc2FqZTogW10sDQogICAgICBmb3JtdWxhcmlvOiAwLA0KICAgICAgbGFiZWxNYWlsOiAiVXN1YXJpbyIsDQogICAgICBpc0xvYWRpbmdMb2dpbjogZmFsc2UsDQogICAgICBtb2R1bG9zOiBbXSwNCiAgICAgIGluc3RpdHVjaW9uOiAiIiwNCiAgICAgIGlkZW50aWZpY2Fkb3I6ICIiLA0KICAgICAgcGVyc29uYUluc3RpdHVjaW9uZXM6IFtdLA0KICAgIH07DQogIH0sDQogIGNvbXB1dGVkOiB7DQogICAgdXN1YXJpb0lEKCkgew0KICAgICAgcmV0dXJuIHRoaXMuJHN0b3JlLnN0YXRlLnVzdWFyaW8uaWR1c3VhcmlvOw0KICAgIH0sDQogICAgaW5zdGl0dWNpb25TZWwoKSB7DQogICAgICByZXR1cm4gdGhpcy4kc3RvcmUuc3RhdGUudXN1YXJpby5pbnN0aXR1Y2lvbjsNCiAgICB9LA0KICB9LA0KDQogIG1ldGhvZHM6IHsNCiAgICAuLi5tYXBBY3Rpb25zKCJwZXJzb25hcyIsIFsibGltcGlhclZhcmlhYmxlc1BlcnNvbmFzIl0pLA0KDQogICAgdmFsaWRhcigpIHsNCiAgICAgIHRoaXMubGltcGlhclZhcmlhYmxlc1BlcnNvbmFzKCk7DQogICAgICB0aGlzLnZhbGlkYSA9IDA7DQogICAgICB0aGlzLnZhbGlkYU1lbnNhamUgPSBbXTsNCg0KICAgICAgaWYgKHRoaXMucGVyc29uYUluc3RpdHVjaW9uZXMubGVuZ3RoID4gMSAmJiAhdGhpcy5pZGVudGlmaWNhZG9yKSB7DQogICAgICAgIHRoaXMudmFsaWRhTWVuc2FqZS5wdXNoKCJEZWJlIHNlbGVjY2lvbmFyIHVuYSBJbnN0aXR1Y2lvbiIpOw0KICAgICAgfQ0KDQogICAgICBpZiAoIXRoaXMudXN1YXJpbykgew0KICAgICAgICB0aGlzLnZhbGlkYU1lbnNhamUucHVzaCgiRWwgY2FtcG8gRW1haWwgZXMgT2JsaWdhdG9yaW8iKTsNCiAgICAgIH0NCiAgICAgIGlmICghdGhpcy5wYXNzd29yZCkgew0KICAgICAgICB0aGlzLnZhbGlkYU1lbnNhamUucHVzaCgiRWwgY2FtcG8gUGFzc3dvcmQgZXMgT2JsaWdhdG9yaW8uIik7DQogICAgICB9DQogICAgICBpZiAodGhpcy52YWxpZGFNZW5zYWplLmxlbmd0aCkgew0KICAgICAgICB0aGlzLnZhbGlkYSA9IDE7DQogICAgICB9DQogICAgICByZXR1cm4gdGhpcy52YWxpZGE7DQogICAgfSwNCg0KICAgIGNhbWJpYUZvcm11bGFyaW8ob3BjLCBsYWJlbCkgew0KDQogICAgICB0aGlzLmZvcm11bGFyaW8gPSBvcGM7DQogICAgICB0aGlzLmxhYmVsTWFpbCA9IGxhYmVsOw0KDQogICAgICB0aGlzLnZhbGlkYU1lbnNhamUgPSBbXTsNCg0KICAgIH0sDQoNCiAgICBpbmdyZXNhcigpIHsNCiAgICAgIGlmICh0aGlzLnZhbGlkYXIoKSkgew0KICAgICAgICByZXR1cm47DQogICAgICB9DQogICAgICB0aGlzLmlzTG9hZGluZ0xvZ2luID0gdHJ1ZTsNCiAgICAgIHRoaXMuZXJyb3IgPSBudWxsOw0KICAgICAgYXhpb3MNCiAgICAgICAgLnBvc3QoImFwaS9TZXNpb24vbG9naW4iLCB7DQogICAgICAgICAgbWFpbDogdGhpcy51c3VhcmlvLA0KICAgICAgICAgIHBhc3N3b3JkOiB0aGlzLnBhc3N3b3JkLA0KICAgICAgICAgIGlkZW50aWZpY2Fkb3I6IHRoaXMuaWRlbnRpZmljYWRvciwNCiAgICAgICAgICBkZXZpY2VJRDogJycsDQogICAgICAgICAgZGV2aWNlVVVJRDogJycsDQogICAgICAgICAgZGV2aWNlVHlwZTogJ3dlYicNCiAgICAgICAgfSkNCiAgICAgICAgLnRoZW4ocmVzcHVlc3RhID0+IHsNCiAgICAgICAgICByZXR1cm4gcmVzcHVlc3RhLmRhdGE7DQogICAgICAgIH0pDQogICAgICAgIC50aGVuKGRhdGEgPT4gew0KDQogICAgICAgICAgdGhpcy4kc3RvcmUuZGlzcGF0Y2goImd1YXJkYXJUb2tlbiIsIGRhdGEudG9rZW4pOw0KDQogICAgICAgICAgdGhpcy4kc3RvcmUuZGlzcGF0Y2goImNpY2xvTGVjdGl2byIsIG5ldyBEYXRlKCkuZ2V0RnVsbFllYXIoKSk7DQoNCiAgICAgICAgICB0aGlzLiRzdG9yZS5kaXNwYXRjaCgiaGlqb0lEIiwgJycpOw0KICAgICAgICAgIHRoaXMuJHN0b3JlLmRpc3BhdGNoKCJub21icmVIaWpvIiwgJycpOw0KICAgICAgICAgIHRoaXMuJHN0b3JlLmRpc3BhdGNoKCJhdmF0YXJIaWpvIiwgJycpOw0KICAgICAgICAgIHRoaXMuJHN0b3JlLmRpc3BhdGNoKCJjdXJzb0hpam8iLCAnJyk7DQoNCiAgICAgICAgICBpZiAodGhpcy4kc3RvcmUuc3RhdGUudXN1YXJpby5yb2wgPT0gJ1ByZWNlcHRvcicgfHwgdGhpcy4kc3RvcmUuc3RhdGUudXN1YXJpby5yb2wgPT0gJ0FsdW1ubycgfHwgdGhpcy4kc3RvcmUuc3RhdGUudXN1YXJpby5yb2wgPT0gJ0RvY2VudGUnIHx8IHRoaXMuJHN0b3JlLnN0YXRlLnVzdWFyaW8ucm9sID09ICdGYW1pbGlhJykgew0KICAgICAgICAgICAgdGhpcy4kcm91dGVyLnB1c2goeyBuYW1lOiAiTWFpbiIgfSk7DQogICAgICAgICAgfQ0KICAgICAgICAgIGVsc2Ugew0KICAgICAgICAgICAgdGhpcy4kcm91dGVyLnB1c2goeyBuYW1lOiAiaG9tZSIgfSk7DQogICAgICAgICAgfQ0KDQogICAgICAgIH0pDQogICAgICAgIC5jYXRjaChlcnIgPT4gew0KICAgICAgICAgIGNvbnNvbGUubG9nKGVyci5yZXNwb25zZSk7DQogICAgICAgICAgdGhpcy5pc0xvYWRpbmdMb2dpbiA9IGZhbHNlOw0KICAgICAgICAgIGlmIChlcnIucmVzcG9uc2Uuc3RhdHVzID09IDQwMCkgew0KICAgICAgICAgICAgdGhpcy5lcnJvciA9ICJVc3VhcmlvIG8gY29udHJhc2XDsWEgaW52w6FsaWRvcyI7DQogICAgICAgICAgfSBlbHNlIGlmIChlcnIucmVzcG9uc2Uuc3RhdHVzID09IDQwNCkgew0KICAgICAgICAgICAgdGhpcy5lcnJvciA9ICJObyBleGlzdGUgZWwgdXN1YXJpbyBvIHN1cyBkYXRvcyBzb24gaW5jb3JyZWN0b3MiOw0KICAgICAgICAgIH0gZWxzZSB7DQogICAgICAgICAgICB0aGlzLmVycm9yID0gIk9jdXJyacOzIHVuIGVycm9yIjsNCiAgICAgICAgICB9DQoNCiAgICAgICAgfSk7DQogICAgfSwNCg0KICAgIGxpc3Rhckluc3RpdHVjaW9uZXNYUGVyc29uYSgpIHsNCiAgICAgIGlmICh0aGlzLnVzdWFyaW8pIHsNCiAgICAgICAgdGhpcy5pc0xvYWRpbmdMb2dpbiA9IHRydWU7DQogICAgICAgIHRoaXMuaW5zdGl0dWNpb24gPSAiIjsNCiAgICAgICAgdGhpcy5pZGVudGlmaWNhZG9yID0gIiI7DQogICAgICAgIGlmICghdGhpcy51c3VhcmlvKSB7IHJldHVybjsgfQ0KICAgICAgICBsZXQgbWUgPSB0aGlzOw0KICAgICAgICBsZXQgaGVhZGVyID0geyBBdXRob3JpemF0aW9uOiAiQmVhcmVyICIgKyB0aGlzLiRzdG9yZS5zdGF0ZS50b2tlbiB9Ow0KICAgICAgICBsZXQgY29uZmlndXJhY2lvbiA9IHsgaGVhZGVyczogaGVhZGVyIH07DQogICAgICAgIGF4aW9zDQogICAgICAgICAgLmdldCgiYXBpL1BlcnNvbmFzSW5zdGl0dWNpb25lcy8iICsgbWUudXN1YXJpbywgY29uZmlndXJhY2lvbikNCiAgICAgICAgICAudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHsNCiAgICAgICAgICAgIG1lLnBlcnNvbmFJbnN0aXR1Y2lvbmVzID0gcmVzcG9uc2UuZGF0YTsNCiAgICAgICAgICAgIGlmIChtZS5wZXJzb25hSW5zdGl0dWNpb25lcy5sZW5ndGggPT0gMSkgew0KICAgICAgICAgICAgICBtZS5pbnN0aXR1Y2lvbiA9IG1lLnBlcnNvbmFJbnN0aXR1Y2lvbmVzWzBdLmluc3RpdHVjaW9uOw0KICAgICAgICAgICAgICBtZS5pZGVudGlmaWNhZG9yID0gbWUucGVyc29uYUluc3RpdHVjaW9uZXNbMF0uaWRlbnRpZmljYWRvcjsNCg0KICAgICAgICAgICAgfQ0KICAgICAgICAgIH0pDQogICAgICAgICAgLmNhdGNoKGZ1bmN0aW9uIChlcnJvcikgew0KICAgICAgICAgICAgY29uc29sZS5sb2coZXJyb3IpOw0KICAgICAgICAgIH0pOw0KICAgICAgICB0aGlzLmlzTG9hZGluZ0xvZ2luID0gZmFsc2U7DQogICAgICB9DQogICAgfSwNCg0KICAgIGdldEltZ1VybChwaWMpIHsNCiAgICAgIHZhciBuID0gcGljLmxhc3RJbmRleE9mKCIuIik7DQogICAgICB2YXIgdGlwbyA9IHBpYy5zdWJzdHIobiArIDEsIHBpYy5sZW5ndGggLSBuICsgMSk7DQogICAgICB0cnkgew0KICAgICAgICByZXR1cm4gcmVxdWlyZSgiLi4vRGF0b3MvIiArIHBpYyk7DQogICAgICB9IGNhdGNoIChlcnJvcikgew0KICAgICAgICBjb25zb2xlLmxvZyhlcnJvcik7DQogICAgICAgIHJldHVybiByZXF1aXJlKCIuLi9EYXRvcy9pbWFnZXMucG5nIik7DQogICAgICB9DQogICAgfSwNCg0KDQogIH0NCn07DQo="},{"version":3,"sources":["Login.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA0EA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA","file":"Login.vue","sourceRoot":"src/components","sourcesContent":["<template>\r\n  <v-layout align-center justify-center>\r\n    <v-flex xs12 sm8 md6 lg5 xl4>\r\n      <v-card :loading=\"isLoadingLogin\" class=\"mx-auto\" max-width=\"100%\" style=\"opacity: 0.9\">\r\n\r\n        <v-card-text style='padding-left:50px; padding-right:65px; padding-top:0px'>\r\n          <v-form>\r\n            <v-icon dark>mdi-key-variant</v-icon>\r\n\r\n            <v-toolbar-title style='padding-left:20px; padding-bottom:0px; text-align:center'>\r\n              <img class=\"d-inline-block align-top imgLogin\" src=\"../assets/logo_p01.png\" style=\"cursor:pointer\" />\r\n            </v-toolbar-title>\r\n\r\n            <v-toolbar-title style='padding-left:20px; padding-bottom:40px; text-align:center' v-if=\"formulario==0\">\r\n              Bienvenidos a PLATTFORM</v-toolbar-title>\r\n            <v-toolbar-title style='padding-left:20px; padding-bottom:40px; text-align:center' v-if=\"formulario==1\">\r\n              Recuperar Contraseña</v-toolbar-title>\r\n\r\n            <v-text-field v-if=\"formulario!=2\" v-model=\"usuario\" prepend-icon=\"mdi-account\" autofocus color=\"accent\"\r\n              :label=\"labelMail\" @blur=\"listarInstitucionesXPersona()\"></v-text-field>\r\n\r\n            <v-alert border=\"left\" colored-border color=\"green\" elevation=\"1\" v-if=\"formulario==1\">\r\n              <span class=\"textoGray\">Te enviaremos un correo a tu casilla con un enlace para restablecer tu\r\n                contraseña.</span>\r\n            </v-alert>\r\n\r\n            <v-text-field v-if=\"formulario==0\" v-model=\"password\" prepend-icon=\"lock\" type=\"password\" color=\"accent\"\r\n              label=\"Contraseña\" @keyup.enter=\"ingresar()\"></v-text-field>\r\n\r\n            <v-text-field v-if=\"formulario==2\" v-model=\"password_nueva_1\" prepend-icon=\"lock\" type=\"password\"\r\n              color=\"accent\" label=\"Nueva Contraseña \" @keyup.enter=\"ingresar()\"></v-text-field>\r\n\r\n            <v-text-field v-if=\"formulario==2\" v-model=\"password_nueva_2\" prepend-icon=\"lock\" type=\"password\"\r\n              color=\"accent\" label=\"Retipear nueva contraseña \" @keyup.enter=\"ingresar()\"></v-text-field>\r\n\r\n            <v-autocomplete label=\"Institucion\" :items=\"personaInstituciones\" v-model=\"identificador\" solo\r\n              prepend-icon=\"school\" item-text=\"institucion\" item-value=\"identificador\" autocomplete=\"off\">\r\n              <template v-slot:item=\"data\">\r\n                <template>\r\n                  <v-list-item-avatar>\r\n                    <img :src=\"getImgUrl(data.item.logo)\" />\r\n                  </v-list-item-avatar>\r\n                  <v-list-item-content>\r\n                    <v-list-item-title v-text=\"data.item.institucion\"></v-list-item-title>\r\n                  </v-list-item-content>\r\n                </template>\r\n              </template>\r\n            </v-autocomplete>\r\n\r\n            <v-flex class=\"red--text\" v-if=\"error\">{{error}}</v-flex>\r\n            <div class=\"red--text\" v-for=\"v in validaMensaje\" :key=\"v\" v-text=\"v\"></div>\r\n          </v-form>\r\n          <v-row>\r\n            <v-col align=\"center\">\r\n              <v-btn @click=\"ingresar()\" color=\"primary\" large width=\"200px\" v-if=\"formulario==0\">Ingresar</v-btn>\r\n              <v-btn @click=\"passwordRecovery\" color=\"primary\" width=\"200px\" v-if=\"formulario==1\">Enviar</v-btn>\r\n              <v-btn @click=\"changePassword\" color=\"primary\" width=\"200px\" v-if=\"formulario==2\">Enviar</v-btn>\r\n            </v-col>\r\n          </v-row>\r\n          <v-row>\r\n            <v-col align=\"center\" style=\"padding-bottom:35px\">\r\n              <a href=\"javascript:void(0)\" @click=\"cambiaFormulario(1,'Su email')\" v-if=\"formulario==0\">Olvidaste tu\r\n                contraseña ?</a>\r\n              <a href=\"javascript:void(0)\" @click=\"cambiaFormulario(0, 'Email o Documento Nro')\"\r\n                v-if=\"formulario==1\">Iniciar sesión</a>\r\n            </v-col>\r\n          </v-row>\r\n        </v-card-text>\r\n      </v-card>\r\n    </v-flex>\r\n  </v-layout>\r\n\r\n</template>\r\n<script>\r\nimport { mapActions } from \"vuex\";\r\nimport axios from \"axios\";\r\nexport default {\r\n  data() {\r\n    return {\r\n      usuario: \"\",\r\n      password: \"\",\r\n      error: null,\r\n      valida: 0,\r\n      validaMensaje: [],\r\n      formulario: 0,\r\n      labelMail: \"Usuario\",\r\n      isLoadingLogin: false,\r\n      modulos: [],\r\n      institucion: \"\",\r\n      identificador: \"\",\r\n      personaInstituciones: [],\r\n    };\r\n  },\r\n  computed: {\r\n    usuarioID() {\r\n      return this.$store.state.usuario.idusuario;\r\n    },\r\n    institucionSel() {\r\n      return this.$store.state.usuario.institucion;\r\n    },\r\n  },\r\n\r\n  methods: {\r\n    ...mapActions(\"personas\", [\"limpiarVariablesPersonas\"]),\r\n\r\n    validar() {\r\n      this.limpiarVariablesPersonas();\r\n      this.valida = 0;\r\n      this.validaMensaje = [];\r\n\r\n      if (this.personaInstituciones.length > 1 && !this.identificador) {\r\n        this.validaMensaje.push(\"Debe seleccionar una Institucion\");\r\n      }\r\n\r\n      if (!this.usuario) {\r\n        this.validaMensaje.push(\"El campo Email es Obligatorio\");\r\n      }\r\n      if (!this.password) {\r\n        this.validaMensaje.push(\"El campo Password es Obligatorio.\");\r\n      }\r\n      if (this.validaMensaje.length) {\r\n        this.valida = 1;\r\n      }\r\n      return this.valida;\r\n    },\r\n\r\n    cambiaFormulario(opc, label) {\r\n\r\n      this.formulario = opc;\r\n      this.labelMail = label;\r\n\r\n      this.validaMensaje = [];\r\n\r\n    },\r\n\r\n    ingresar() {\r\n      if (this.validar()) {\r\n        return;\r\n      }\r\n      this.isLoadingLogin = true;\r\n      this.error = null;\r\n      axios\r\n        .post(\"api/Sesion/login\", {\r\n          mail: this.usuario,\r\n          password: this.password,\r\n          identificador: this.identificador,\r\n          deviceID: '',\r\n          deviceUUID: '',\r\n          deviceType: 'web'\r\n        })\r\n        .then(respuesta => {\r\n          return respuesta.data;\r\n        })\r\n        .then(data => {\r\n\r\n          this.$store.dispatch(\"guardarToken\", data.token);\r\n\r\n          this.$store.dispatch(\"cicloLectivo\", new Date().getFullYear());\r\n\r\n          this.$store.dispatch(\"hijoID\", '');\r\n          this.$store.dispatch(\"nombreHijo\", '');\r\n          this.$store.dispatch(\"avatarHijo\", '');\r\n          this.$store.dispatch(\"cursoHijo\", '');\r\n\r\n          if (this.$store.state.usuario.rol == 'Preceptor' || this.$store.state.usuario.rol == 'Alumno' || this.$store.state.usuario.rol == 'Docente' || this.$store.state.usuario.rol == 'Familia') {\r\n            this.$router.push({ name: \"Main\" });\r\n          }\r\n          else {\r\n            this.$router.push({ name: \"home\" });\r\n          }\r\n\r\n        })\r\n        .catch(err => {\r\n          console.log(err.response);\r\n          this.isLoadingLogin = false;\r\n          if (err.response.status == 400) {\r\n            this.error = \"Usuario o contraseña inválidos\";\r\n          } else if (err.response.status == 404) {\r\n            this.error = \"No existe el usuario o sus datos son incorrectos\";\r\n          } else {\r\n            this.error = \"Ocurrió un error\";\r\n          }\r\n\r\n        });\r\n    },\r\n\r\n    listarInstitucionesXPersona() {\r\n      if (this.usuario) {\r\n        this.isLoadingLogin = true;\r\n        this.institucion = \"\";\r\n        this.identificador = \"\";\r\n        if (!this.usuario) { return; }\r\n        let me = this;\r\n        let header = { Authorization: \"Bearer \" + this.$store.state.token };\r\n        let configuracion = { headers: header };\r\n        axios\r\n          .get(\"api/PersonasInstituciones/\" + me.usuario, configuracion)\r\n          .then(function (response) {\r\n            me.personaInstituciones = response.data;\r\n            if (me.personaInstituciones.length == 1) {\r\n              me.institucion = me.personaInstituciones[0].institucion;\r\n              me.identificador = me.personaInstituciones[0].identificador;\r\n\r\n            }\r\n          })\r\n          .catch(function (error) {\r\n            console.log(error);\r\n          });\r\n        this.isLoadingLogin = false;\r\n      }\r\n    },\r\n\r\n    getImgUrl(pic) {\r\n      var n = pic.lastIndexOf(\".\");\r\n      var tipo = pic.substr(n + 1, pic.length - n + 1);\r\n      try {\r\n        return require(\"../Datos/\" + pic);\r\n      } catch (error) {\r\n        console.log(error);\r\n        return require(\"../Datos/images.png\");\r\n      }\r\n    },\r\n\r\n\r\n  }\r\n};\r\n</script>\r\n\r\n<style>\r\n.imgLogin {\r\n  width: 60px;\r\n  height: auto;\r\n}\r\n</style>"]}]}