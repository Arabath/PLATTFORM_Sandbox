{"remainingRequest":"C:\\DEV\\FLJ\\Plataforma\\PLATTFORM_Sandbox\\node_modules\\babel-loader\\lib\\index.js!C:\\DEV\\FLJ\\Plataforma\\PLATTFORM_Sandbox\\src\\modules\\perfiles.js","dependencies":[{"path":"C:\\DEV\\FLJ\\Plataforma\\PLATTFORM_Sandbox\\src\\modules\\perfiles.js","mtime":1666174950140},{"path":"C:\\DEV\\FLJ\\Plataforma\\PLATTFORM_Sandbox\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1666176538733},{"path":"C:\\DEV\\FLJ\\Plataforma\\PLATTFORM_Sandbox\\node_modules\\babel-loader\\lib\\index.js","mtime":1666176542014}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuY29uY2F0IjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZmlsdGVyIjsKaW1wb3J0IGF4aW9zIGZyb20gImF4aW9zIjsKZXhwb3J0IGRlZmF1bHQgewogIG5hbWVzcGFjZWQ6IHRydWUsCiAgc3RhdGU6IHsKICAgIHBlcmZDYXJnYTogZmFsc2UsCiAgICBwZXJmaWxlczogW10sCiAgICBwZXJmU2VsZWN0ZWQ6IFtdLAogICAgcGVyc29uYVBlcmZpbGVzOiB7CiAgICAgIHBlcnNvbmFJRDogIiIsCiAgICAgIHBlcmZpbGVzSURzOiAiIiwKICAgICAgcGVyZmlsUHJlZGV0ZXJtaW5hZG9JRDogJycKICAgIH0sCiAgICBhbGVydFBlcmY6IHsKICAgICAgZXN0YWRvOiBmYWxzZSwKICAgICAgdGlwbzogJycsCiAgICAgIG1lbnNhamU6ICcnCiAgICB9LAogICAgZXN0YWRvQWxlcnQ6IGZhbHNlCiAgfSwKICBtdXRhdGlvbnM6IHsKICAgIGNhcmdhU1FMOiBmdW5jdGlvbiBjYXJnYVNRTChzdGF0ZSwgcGF5bG9hZCkgewogICAgICBzdGF0ZS5wZXJmQ2FyZ2EgPSBwYXlsb2FkOwogICAgfSwKICAgIGNhcmdhclBlcmZpbGVzOiBmdW5jdGlvbiBjYXJnYXJQZXJmaWxlcyhzdGF0ZSwgcGF5bG9hZCkgewogICAgICBzdGF0ZS5wZXJmaWxlcyA9IHBheWxvYWQ7CiAgICAgIHN0YXRlLnBlcmZTZWxlY3RlZCA9IHN0YXRlLnBlcmZpbGVzLmZpbHRlcihmdW5jdGlvbiAoaXRlbSkgewogICAgICAgIHJldHVybiBpdGVtLmVzdGFkb1JlbGFjaW9uID09PSB0cnVlOwogICAgICB9KTsKICAgIH0sCiAgICBBY3R1YWxpemFyUGVyc29uYVBlcmZpbGVzUmVsYWNpb246IGZ1bmN0aW9uIEFjdHVhbGl6YXJQZXJzb25hUGVyZmlsZXNSZWxhY2lvbihzdGF0ZSwgcGF5bG9hZCkgewogICAgICBjb25zb2xlLmxvZygiSGFjZSBlbCBDb21taXQiKTsKICAgICAgY29uc29sZS5sb2cocGF5bG9hZCk7CiAgICAgIHN0YXRlLmFsZXJ0UGVyZi5lc3RhZG8gPSB0cnVlOwogICAgICBzdGF0ZS5hbGVydFBlcmYudGlwbyA9ICdncmVlbic7CiAgICAgIHN0YXRlLmFsZXJ0UGVyZi5tZW5zYWplID0gJ0xvcyBkYXRvcyBzZSBndWFyZGFyb24gY29ycmVjdGFtZW50ZSEnOwogICAgICBzdGF0ZS5lc3RhZG9BbGVydCA9IHRydWU7CiAgICB9LAogICAgc2V0RXN0YWRvQWxlcnQ6IGZ1bmN0aW9uIHNldEVzdGFkb0FsZXJ0KHN0YXRlLCBwYXlsb2FkKSB7CiAgICAgIHN0YXRlLmVzdGFkb0FsZXJ0ID0gcGF5bG9hZDsKICAgIH0KICB9LAogIGFjdGlvbnM6IHsKICAgIGNhcmdhclBlcmZpbGVzOiBmdW5jdGlvbiBjYXJnYXJQZXJmaWxlcyhfcmVmLCBwZXJzb25hSUQpIHsKICAgICAgdmFyIGNvbW1pdCA9IF9yZWYuY29tbWl0OwogICAgICBjb21taXQoJ2NhcmdhU1FMJywgdHJ1ZSk7CiAgICAgIHZhciBoZWFkZXIgPSB7CiAgICAgICAgQXV0aG9yaXphdGlvbjogIkJlYXJlciAiICsgdGhpcy5zdGF0ZS50b2tlbgogICAgICB9OwogICAgICB2YXIgY29uZmlndXJhY2lvbiA9IHsKICAgICAgICBoZWFkZXJzOiBoZWFkZXIKICAgICAgfTsKICAgICAgYXhpb3MuZ2V0KCJhcGkvUGVyZmlsZXMvIi5jb25jYXQocGVyc29uYUlELCAiLCIpLmNvbmNhdCh0aGlzLnN0YXRlLnVzdWFyaW8uaW5zdGl0dWNpb24sICIvUGVyZmlsZXNYUGVyc29uYUlEIiksIGNvbmZpZ3VyYWNpb24pLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7CiAgICAgICAgY29uc29sZS5sb2cocmVzcG9uc2UuZGF0YSk7CiAgICAgICAgY29tbWl0KCdjYXJnYVNRTCcsIGZhbHNlKTsKICAgICAgICBjb21taXQoJ2NhcmdhclBlcmZpbGVzJywgcmVzcG9uc2UuZGF0YSk7CiAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uIChlcnJvcikgewogICAgICAgIGNvbW1pdCgnY2FyZ2FTUUwnLCBmYWxzZSk7CiAgICAgICAgY29uc29sZS5sb2coZXJyb3IucmVzcG9uc2UpOwogICAgICB9KTsKICAgIH0sCiAgICBzZXRFc3RhZG9BbGVydDogZnVuY3Rpb24gc2V0RXN0YWRvQWxlcnQoX3JlZjIsIGVzdGFkbykgewogICAgICB2YXIgY29tbWl0ID0gX3JlZjIuY29tbWl0OwogICAgICBjb21taXQoJ3NldEVzdGFkb0FsZXJ0JywgZXN0YWRvKTsKICAgIH0sCiAgICBBY3R1YWxpemFyUGVyc29uYVBlcmZpbGVzUmVsYWNpb246IGZ1bmN0aW9uIEFjdHVhbGl6YXJQZXJzb25hUGVyZmlsZXNSZWxhY2lvbihfcmVmMywgcGVyc29uYVBlcmZpbGVzKSB7CiAgICAgIHZhciBjb21taXQgPSBfcmVmMy5jb21taXQ7CiAgICAgIGNvbnNvbGUubG9nKHBlcnNvbmFQZXJmaWxlcyk7CiAgICAgIHZhciBoZWFkZXIgPSB7CiAgICAgICAgQXV0aG9yaXphdGlvbjogIkJlYXJlciAiICsgdGhpcy5zdGF0ZS50b2tlbgogICAgICB9OwogICAgICB2YXIgY29uZmlndXJhY2lvbiA9IHsKICAgICAgICBoZWFkZXJzOiBoZWFkZXIKICAgICAgfTsKICAgICAgYXhpb3MucG9zdCgiYXBpL1BlcmZpbGVzLyIuY29uY2F0KHRoaXMuc3RhdGUudXN1YXJpby5pbnN0aXR1Y2lvbiwgIi9BY3R1YWxpemFyUGVyc29uYVBlcmZpbGVzUmVsYWNpb24iKSwgewogICAgICAgIGlEOiAwLAogICAgICAgIHBlcnNvbmFJRDogcGVyc29uYVBlcmZpbGVzLnBlcnNvbmFJRCwKICAgICAgICBwZXJmaWxlc0lEczogcGVyc29uYVBlcmZpbGVzLnBlcmZpbGVzSURzLAogICAgICAgIHBlcmZpbFByZWRldGVybWluYWRvSUQ6IHBlcnNvbmFQZXJmaWxlcy5wZXJmaWxQcmVkZXRlcm1pbmFkb0lECiAgICAgIH0sIGNvbmZpZ3VyYWNpb24pLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7CiAgICAgICAgY29uc29sZS5sb2cocmVzcG9uc2UpOwoKICAgICAgICBpZiAocmVzcG9uc2Uuc3RhdHVzVGV4dCA9PT0gJ0NyZWF0ZWQnKSB7CiAgICAgICAgICBjb25zb2xlLmxvZygiUGVyZmlsZXNBY3R1YWxpemFjb3MiKTsKICAgICAgICAgIGNvbW1pdCgnQWN0dWFsaXphclBlcnNvbmFQZXJmaWxlc1JlbGFjaW9uJywgcmVzcG9uc2UuZGF0YSk7CiAgICAgICAgfQogICAgICB9KS5jYXRjaChmdW5jdGlvbiAoZXJyb3IpIHsKICAgICAgICBzdGF0ZS5hbGVydFBlcmYuZXN0YWRvID0gdHJ1ZTsKICAgICAgICBzdGF0ZS5hbGVydFBlcmYudGlwbyA9ICdyZWQnOwogICAgICAgIHN0YXRlLmFsZXJ0UGVyZi5tZW5zYWplID0gJ09jdXJyaW8gdW4gZXJyb3IgYWwgZ3VhcmRhciBsb3MgZGF0b3MhJzsKICAgICAgICBjb25zb2xlLmxvZyhlcnJvci5yZXNwb25zZSk7CiAgICAgIH0pOwogICAgfQogIH0KfTs="},{"version":3,"sources":["C:/DEV/FLJ/Plataforma/PLATTFORM_Sandbox/src/modules/perfiles.js"],"names":["axios","namespaced","state","perfCarga","perfiles","perfSelected","personaPerfiles","personaID","perfilesIDs","perfilPredeterminadoID","alertPerf","estado","tipo","mensaje","estadoAlert","mutations","cargaSQL","payload","cargarPerfiles","filter","item","estadoRelacion","ActualizarPersonaPerfilesRelacion","console","log","setEstadoAlert","actions","commit","header","Authorization","token","configuracion","headers","get","usuario","institucion","then","response","data","catch","error","post","iD","statusText"],"mappings":";;AAAA,OAAOA,KAAP,MAAkB,OAAlB;AAEA,eAAe;AACXC,EAAAA,UAAU,EAAE,IADD;AAEXC,EAAAA,KAAK,EAAE;AACHC,IAAAA,SAAS,EAAE,KADR;AAEHC,IAAAA,QAAQ,EAAE,EAFP;AAGHC,IAAAA,YAAY,EAAC,EAHV;AAIHC,IAAAA,eAAe,EAAE;AACbC,MAAAA,SAAS,EAAC,EADG;AAEbC,MAAAA,WAAW,EAAC,EAFC;AAGbC,MAAAA,sBAAsB,EAAC;AAHV,KAJd;AASHC,IAAAA,SAAS,EAAC;AACNC,MAAAA,MAAM,EAAC,KADD;AAENC,MAAAA,IAAI,EAAC,EAFC;AAGNC,MAAAA,OAAO,EAAC;AAHF,KATP;AAcHC,IAAAA,WAAW,EAAE;AAdV,GAFI;AAkBXC,EAAAA,SAAS,EAAE;AACPC,IAAAA,QADO,oBACEd,KADF,EACSe,OADT,EACkB;AACrBf,MAAAA,KAAK,CAACC,SAAN,GAAkBc,OAAlB;AACH,KAHM;AAIPC,IAAAA,cAJO,0BAIQhB,KAJR,EAIee,OAJf,EAIwB;AAC3Bf,MAAAA,KAAK,CAACE,QAAN,GAAiBa,OAAjB;AACAf,MAAAA,KAAK,CAACG,YAAN,GAAoBH,KAAK,CAACE,QAAN,CAAee,MAAf,CAAsB,UAAAC,IAAI;AAAA,eAAIA,IAAI,CAACC,cAAL,KAAwB,IAA5B;AAAA,OAA1B,CAApB;AACH,KAPM;AAQPC,IAAAA,iCARO,6CAQ2BpB,KAR3B,EAQkCe,OARlC,EAQ2C;AAC9CM,MAAAA,OAAO,CAACC,GAAR,CAAY,gBAAZ;AACAD,MAAAA,OAAO,CAACC,GAAR,CAAYP,OAAZ;AACAf,MAAAA,KAAK,CAACQ,SAAN,CAAgBC,MAAhB,GAAyB,IAAzB;AACAT,MAAAA,KAAK,CAACQ,SAAN,CAAgBE,IAAhB,GAAqB,OAArB;AACAV,MAAAA,KAAK,CAACQ,SAAN,CAAgBG,OAAhB,GAAwB,uCAAxB;AACAX,MAAAA,KAAK,CAACY,WAAN,GAAmB,IAAnB;AACH,KAfM;AAgBPW,IAAAA,cAhBO,0BAgBQvB,KAhBR,EAgBee,OAhBf,EAgBwB;AAC3Bf,MAAAA,KAAK,CAACY,WAAN,GAAoBG,OAApB;AACH;AAlBM,GAlBA;AAsCXS,EAAAA,OAAO,EAAE;AACLR,IAAAA,cADK,gCACqBX,SADrB,EACgC;AAAA,UAApBoB,MAAoB,QAApBA,MAAoB;AACjCA,MAAAA,MAAM,CAAC,UAAD,EAAa,IAAb,CAAN;AACA,UAAIC,MAAM,GAAG;AAAEC,QAAAA,aAAa,EAAE,YAAY,KAAK3B,KAAL,CAAW4B;AAAxC,OAAb;AACA,UAAIC,aAAa,GAAG;AAAEC,QAAAA,OAAO,EAAEJ;AAAX,OAApB;AACA5B,MAAAA,KAAK,CAACiC,GAAN,wBAA0B1B,SAA1B,cAAuC,KAAKL,KAAL,CAAWgC,OAAX,CAAmBC,WAA1D,0BAA4FJ,aAA5F,EACKK,IADL,CACU,UAAUC,QAAV,EAAoB;AACtBd,QAAAA,OAAO,CAACC,GAAR,CAAYa,QAAQ,CAACC,IAArB;AACAX,QAAAA,MAAM,CAAC,UAAD,EAAa,KAAb,CAAN;AACAA,QAAAA,MAAM,CAAC,gBAAD,EAAmBU,QAAQ,CAACC,IAA5B,CAAN;AACH,OALL,EAMKC,KANL,CAMW,UAAUC,KAAV,EAAiB;AACpBb,QAAAA,MAAM,CAAC,UAAD,EAAa,KAAb,CAAN;AACAJ,QAAAA,OAAO,CAACC,GAAR,CAAYgB,KAAK,CAACH,QAAlB;AACH,OATL;AAUH,KAfI;AAgBLZ,IAAAA,cAhBK,iCAgBsBd,MAhBtB,EAgB8B;AAAA,UAAlBgB,MAAkB,SAAlBA,MAAkB;AAC/BA,MAAAA,MAAM,CAAC,gBAAD,EAAmBhB,MAAnB,CAAN;AACH,KAlBI;AAmBLW,IAAAA,iCAnBK,oDAmByChB,eAnBzC,EAmB0D;AAAA,UAA3BqB,MAA2B,SAA3BA,MAA2B;AAC3DJ,MAAAA,OAAO,CAACC,GAAR,CAAYlB,eAAZ;AAEA,UAAIsB,MAAM,GAAG;AAAEC,QAAAA,aAAa,EAAE,YAAY,KAAK3B,KAAL,CAAW4B;AAAxC,OAAb;AACA,UAAIC,aAAa,GAAG;AAAEC,QAAAA,OAAO,EAAEJ;AAAX,OAApB;AACA5B,MAAAA,KAAK,CACAyC,IADL,wBAEwB,KAAKvC,KAAL,CAAWgC,OAAX,CAAmBC,WAF3C,yCAGQ;AACIO,QAAAA,EAAE,EAAC,CADP;AAEInC,QAAAA,SAAS,EAAED,eAAe,CAACC,SAF/B;AAGIC,QAAAA,WAAW,EAAEF,eAAe,CAACE,WAHjC;AAIIC,QAAAA,sBAAsB,EAAEH,eAAe,CAACG;AAJ5C,OAHR,EASQsB,aATR,EAWKK,IAXL,CAWU,UAAUC,QAAV,EAAoB;AACtBd,QAAAA,OAAO,CAACC,GAAR,CAAYa,QAAZ;;AACA,YAAGA,QAAQ,CAACM,UAAT,KAAuB,SAA1B,EAAoC;AAChCpB,UAAAA,OAAO,CAACC,GAAR,CAAY,sBAAZ;AAEAG,UAAAA,MAAM,CAAC,mCAAD,EAAsCU,QAAQ,CAACC,IAA/C,CAAN;AACH;AACJ,OAlBL,EAmBKC,KAnBL,CAmBW,UAAUC,KAAV,EAAiB;AACpBtC,QAAAA,KAAK,CAACQ,SAAN,CAAgBC,MAAhB,GAAyB,IAAzB;AACAT,QAAAA,KAAK,CAACQ,SAAN,CAAgBE,IAAhB,GAAqB,KAArB;AACAV,QAAAA,KAAK,CAACQ,SAAN,CAAgBG,OAAhB,GAAwB,wCAAxB;AACAU,QAAAA,OAAO,CAACC,GAAR,CAAYgB,KAAK,CAACH,QAAlB;AACH,OAxBL;AAyBH;AAjDI;AAtCE,CAAf","sourcesContent":["import axios from \"axios\";\r\n\r\nexport default {\r\n    namespaced: true,\r\n    state: {\r\n        perfCarga: false,\r\n        perfiles: [],\r\n        perfSelected:[],\r\n        personaPerfiles: {\r\n            personaID:\"\",\r\n            perfilesIDs:\"\",\r\n            perfilPredeterminadoID:''\r\n        },\r\n        alertPerf:{\r\n            estado:false,\r\n            tipo:'',\r\n            mensaje:''\r\n        },\r\n        estadoAlert: false,\r\n    },\r\n    mutations: {\r\n        cargaSQL(state, payload) {\r\n            state.perfCarga = payload\r\n        },\r\n        cargarPerfiles(state, payload) {\r\n            state.perfiles = payload\r\n            state.perfSelected =state.perfiles.filter(item => item.estadoRelacion === true)\r\n        },\r\n        ActualizarPersonaPerfilesRelacion(state, payload) {\r\n            console.log(\"Hace el Commit\")\r\n            console.log(payload)\r\n            state.alertPerf.estado = true\r\n            state.alertPerf.tipo='green'\r\n            state.alertPerf.mensaje='Los datos se guardaron correctamente!'\r\n            state.estadoAlert= true\r\n        },\r\n        setEstadoAlert(state, payload) {\r\n            state.estadoAlert = payload\r\n        },\r\n    },\r\n    actions: {\r\n        cargarPerfiles({ commit },personaID) {\r\n            commit('cargaSQL', true)\r\n            let header = { Authorization: \"Bearer \" + this.state.token };\r\n            let configuracion = { headers: header };\r\n            axios.get(`api/Perfiles/${personaID},${this.state.usuario.institucion}/PerfilesXPersonaID`, configuracion)\r\n                .then(function (response) {\r\n                    console.log(response.data)\r\n                    commit('cargaSQL', false)\r\n                    commit('cargarPerfiles', response.data)\r\n                })\r\n                .catch(function (error) {\r\n                    commit('cargaSQL', false)\r\n                    console.log(error.response)\r\n                })\r\n        },\r\n        setEstadoAlert({ commit }, estado) {\r\n            commit('setEstadoAlert', estado)\r\n        },\r\n        ActualizarPersonaPerfilesRelacion({ commit }, personaPerfiles) {\r\n            console.log(personaPerfiles)\r\n\r\n            let header = { Authorization: \"Bearer \" + this.state.token };\r\n            let configuracion = { headers: header };\r\n            axios\r\n                .post(\r\n                    `api/Perfiles/${this.state.usuario.institucion}/ActualizarPersonaPerfilesRelacion`,\r\n                    {\r\n                        iD:0,\r\n                        personaID: personaPerfiles.personaID,\r\n                        perfilesIDs: personaPerfiles.perfilesIDs,\r\n                        perfilPredeterminadoID: personaPerfiles.perfilPredeterminadoID,\r\n                    },\r\n                    configuracion\r\n                )\r\n                .then(function (response) {\r\n                    console.log(response);\r\n                    if(response.statusText ==='Created'){\r\n                        console.log(\"PerfilesActualizacos\")\r\n                        \r\n                        commit('ActualizarPersonaPerfilesRelacion', response.data)\r\n                    }\r\n                })\r\n                .catch(function (error) {\r\n                    state.alertPerf.estado = true\r\n                    state.alertPerf.tipo='red'\r\n                    state.alertPerf.mensaje='Ocurrio un error al guardar los datos!'\r\n                    console.log(error.response)\r\n                })\r\n        },\r\n\r\n\r\n\r\n\r\n\r\n    },\r\n}"]}]}